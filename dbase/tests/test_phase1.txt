* Phase 1: Teacher's Pet unblocking features
* Test no-op SETs, CLOSE commands, RELEASE ALL LIKE, ROW/COL, IIF, FILE, DTOS
SET TALK OFF
SET ECHO OFF
SET BELL OFF
SET MENU OFF
SET SAFETY OFF
SET STATUS OFF
SET SCOREBOARD OFF
SET EXACT OFF
SET ESCAPE ON
SET INTENSITY ON
SET UNIQUE OFF
SET CENTURY OFF
SET PATH TO C:\DBASE
SET FUNCTION 10 TO "QUIT;"
SET DEVICE TO SCREEN
? "SET no-ops OK"
* Test CLOSE DATABASES
CREATE TEST
NAME
C
10
NUM
N
5
0

USE TEST
APPEND BLANK
REPLACE NAME WITH "Alice", NUM WITH 1
CLOSE DATABASES
? "CLOSE DATABASES OK"
* Test CLOSE INDEX
USE TEST
CLOSE INDEX
? "CLOSE INDEX OK"
CLOSE DATABASES
* Test RELEASE ALL LIKE
STORE "hello" TO T_A
STORE "world" TO T_B
STORE "keep" TO X_KEEP
RELEASE ALL LIKE T_*
? X_KEEP
? "RELEASE LIKE OK"
RELEASE ALL
* Test RELEASE ALL EXCEPT
STORE "hello" TO T_A
STORE "world" TO T_B
STORE "keep" TO X_KEEP
RELEASE ALL EXCEPT X_*
? X_KEEP
? "RELEASE EXCEPT OK"
RELEASE ALL
* Test IIF function
? IIF(.T.,"yes","no")
? IIF(.F.,"yes","no")
? IIF(1>0,"bigger","smaller")
? "IIF OK"
* Test FILE function
? IIF(FILE("TEST.DBF"),"exists","missing")
? IIF(FILE("NOSUCH.DBF"),"exists","missing")
? "FILE OK"
* Test DTOS function
? DTOS(CTOD("03/15/85"))
? "DTOS OK"
* Test ROW/COL (returns 0/0 initially in batch mode)
? STR(ROW(),3)
? STR(COL(),3)
? "ROW/COL OK"
* Cleanup
ERASE TEST.DBF
QUIT
